<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manchester Essex Kindness Window</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1a4d2e 0%, #2d5f3f 50%, #1a4d2e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
            overflow: hidden;
        }

        /* ============================================
           CONFIGURATION SECTION - EDIT THESE VALUES
           ============================================ */
        
        .portal-container {
            width: 95vw;
            height: 95vh;
            max-width: 1920px;
            max-height: 1080px;
        }

        /* ============================================
           END CONFIGURATION SECTION
           ============================================ */

        .portal-container {
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .header-area {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .portal-title {
            color: white;
            font-size: 2.5em;
            text-shadow: 
                3px 3px 6px rgba(0,0,0,0.5),
                0 0 20px rgba(255,255,255,0.3);
        }

        .video-frame {
            position: relative;
            width: 100%;
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 50px rgba(0,0,0,0.8);
        }

        /* Window frame overlay */
        .window-frame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* Window panes - creates the window look */
        .window-pane {
            position: absolute;
            background: white;
            box-shadow: 
                inset 0 0 20px rgba(0,0,0,0.3),
                0 0 10px rgba(255,255,255,0.5);
        }

        /* Vertical divider */
        .window-pane.vertical {
            left: 50%;
            top: 0;
            width: 15px;
            height: 100%;
            transform: translateX(-50%);
        }

        /* Horizontal divider */
        .window-pane.horizontal {
            top: 50%;
            left: 0;
            width: 100%;
            height: 15px;
            transform: translateY(-50%);
        }

        /* Window border frame */
        .window-border {
            position: absolute;
            border: 15px solid white;
            border-radius: 20px;
            width: 100%;
            height: 100%;
            box-shadow: 
                inset 0 0 30px rgba(0,0,0,0.3),
                0 0 20px rgba(255,255,255,0.3);
        }

        /* Inner dark green accent */
        .window-border::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border: 8px solid #1a4d2e;
            border-radius: 20px;
            pointer-events: none;
        }

        .main-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            border: none;
        }

        .self-view {
            position: relative;
            width: 160px;
            height: 90px;
            border-radius: 10px;
            overflow: hidden;
            border: 3px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            background: #000;
        }

        .self-view video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .self-view-label {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(26, 77, 46, 0.9);
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.7em;
            font-weight: bold;
        }


        /* Connection status indicator */
        .status-indicator {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 8px 15px;
            background: rgba(0,0,0,0.7);
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
            z-index: 20;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ff4444;
        }

        .status-dot.connected {
            background: #44ff44;
        }

        /* Loading message */
        .loading-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 1.5em;
            text-align: center;
            z-index: 5;
        }

        /* Instructions overlay */
        .instructions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 0.9em;
            text-align: center;
            z-index: 25;
            max-width: 80%;
        }

        .instructions.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="portal-container">
        <div class="header-area">
            <h1 class="portal-title">Manchester Essex Kindness Window</h1>
            
            <!-- Self-view (local camera) in header -->
            <div class="self-view">
                <div class="self-view-label">EES</div>
                <iframe style="margin-left: -75px; margin-top:-30px; scale:60%;" 
                    id="localVideo"
                    allow="camera;microphone;autoplay;display-capture"
                    src="">
                </iframe>
            </div>
        </div>
        
        <div class="video-frame">
            <!-- Main video from remote school -->
            <iframe 
                id="remoteVideo"
                class="main-video"
                allow="camera;microphone;autoplay;display-capture;fullscreen"
                allowfullscreen
                src="">
            </iframe>
            
            <div class="loading-message" id="loadingMsg">
                Connecting to window...
            </div>

            <!-- Status indicator -->
            <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">Disconnected</span>
            </div>

            <!-- Window frame overlay -->
            <div class="window-frame">
                <div class="window-border"></div>
                <!--<div class="window-pane vertical"></div>-->
                <!--<div class="window-pane horizontal"></div>-->
            </div>
        </div>

        <!-- Instructions (will hide after connection) -->
        <div class="instructions" id="instructions">
            <strong>Setup Instructions:</strong><br>
            Edit the HTML file and add your VDO.Ninja links in the CONFIGURATION section below
        </div>
    </div>

    <script>
        /* ============================================
           üîß CONFIGURATION - EDIT THESE VALUES
           ============================================ */
        
        // REMOTE VIDEO: The VDO.Ninja VIEW link from the OTHER school
        // Example: 'https://vdo.ninja/?view=ROOM_ID&scene'
        const REMOTE_VIDEO_URL = 'https://vdo.ninja/?view=CkeLzMr';
        
        // LOCAL VIDEO: The VDO.Ninja PUSH link for THIS school's camera
        // Example: 'https://vdo.ninja/?push=ROOM_ID&room=ROOM_ID'
        const LOCAL_VIDEO_URL = 'https://vdo.ninja/?view=CkeLzMr&cover=0';

        /* ============================================
           END CONFIGURATION
           ============================================ */

        // Apply configuration
        document.addEventListener('DOMContentLoaded', function() {
            const remoteVideo = document.getElementById('remoteVideo');
            const localVideo = document.getElementById('localVideo');
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            const loadingMsg = document.getElementById('loadingMsg');
            const instructions = document.getElementById('instructions');

            // Check if URLs are configured
            if (!REMOTE_VIDEO_URL || !LOCAL_VIDEO_URL) {
                loadingMsg.innerHTML = '‚ö†Ô∏è Please configure video URLs<br>See instructions below';
                return;
            }

            // Hide instructions once configured
            instructions.classList.add('hidden');

            // Set video sources
            remoteVideo.src = REMOTE_VIDEO_URL;
            localVideo.src = LOCAL_VIDEO_URL;

            // Simulate connection (in reality, VDO.Ninja handles this)
            setTimeout(() => {
                loadingMsg.style.display = 'none';
                statusDot.classList.add('connected');
                statusText.textContent = 'Memorial';
            }, 3000);

            // Optional: Add click handler to toggle fullscreen
            document.querySelector('.video-frame').addEventListener('dblclick', () => {
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                } else {
                    document.documentElement.requestFullscreen();
                }
            });
        });
    </script>
</body>
</html>
